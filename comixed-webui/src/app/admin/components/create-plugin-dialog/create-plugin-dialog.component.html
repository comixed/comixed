<form [formGroup]="pluginForm">
  <mat-card>
    <mat-card-title>
      {{ "create-plugin.form-title" | translate }}
    </mat-card-title>

    <mat-card-content>
      <mat-form-field class="cx-width-100" appearance="fill" required>
        <input
          id="plugin-filename"
          matInput
          formControlName="filename"
          [placeholder]="'create-plugin.placeholder.filename' | translate"
        />
      </mat-form-field>

      <mat-form-field class="cx-width-100" appearance="fill" required>
        <mat-label>{{ "create-plugin.label.language" | translate }}</mat-label>
        <mat-select
          id="plugin-language"
          formControlName="language"
          [disabled]="pluginLanguageState?.busy"
        >
          @for (option of pluginLanguageList; track option) {
            <mat-option [value]="option.name">
              {{ option.name }}
            </mat-option>
          }
        </mat-select>
        <input matInput hidden />
      </mat-form-field>
    </mat-card-content>

    <mat-card-actions>
      <button
        id="install-plugin-button"
        mat-raised-button
        color="primary"
        [disabled]="!pluginForm.valid"
        (click)="onCreatePlugin()"
      >
        <mat-icon>save</mat-icon>
        <mat-label>{{ "button.save" | translate }}</mat-label>
      </button>
    </mat-card-actions>
  </mat-card>
</form>
